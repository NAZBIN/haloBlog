# egg 的特点

- 通过载入代码-自动挂载代码到对象的方式解决了到处写 import/require 的问题, 不再需要手动维护模块之间的依赖关系, 核心就是一个 loader,这种挂载模式实现起来简单粗暴直接高效, 但是一个小问题就是在使用 TS 编写代码的时候, 会影响书写体验的流畅度, 毕竟不很 OOP。

- 微核心 + 插件机制
- 统一约束和规范, 对开发人员强约束, 保证不会出现千人千面的代码风格和设计
- 针对业务中遇到的常见问题基本都给出了解决方案, 插件丰富, 配套齐全
- 内部实现了进程间管理和通信功能
- 核心开发者较多, 属于团队项目, 整体看来比较严谨
- 沉淀时间较长, 正式发版 2 年, 实际发展了 4 年
- 框架本身核心有 6 个：
  - koa 本身的 application/context/response/request
  - egg 新增：controller/service.
  - (后续所有的挂载动作都在这几个类上面进行)

# nest 的特点

- 通过模块容器-依赖注入维护组件树的模式解决了到处写 import/require 的问题, 不再需要手动维护模块之间的依赖关系。
- 组件树容器模式也达到了解耦效果，但是需要指定节点 component 的依赖关系, 跨模块调用严格依赖于声明.
- 统一约束和规范, 对开发人员强约束。
- 大量使用装饰器, 这个未支持的特性需要编译, 对代码阅读上可能会提高一些难度
- 流程控制上比较细致, 提出了 filter、pipe、guard、interceptor 这些明确的概念, 虽然这些工作在正常开发时也会做, 但是明确提出来并制定规范还是很有必要的
- 自带微服务实现
- 自带 swagger 接口文档生成功能

## nest 使用

- 将每个模块保存在自己的专用目录中。

# 两大开箱即用的 HTTP 平台对比

|                  |                                                                                                                                                                                                                                                     |
| ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| platform-express | [Express](https://expressjs.com/)  是一个众所周知的 node.js 简约 Web 框架。 这是一个经过实战考验，适用于生产的库，拥有大量社区资源。 默认情况下使用  `@nestjs/platform-express`  包。 许多用户都可以使用 Express ，并且无需采取任何操作即可启用它。 |
| platform-fastify | [Fastify](https://www.fastify.io/)  是一个高性能，低开销的框架，专注于提供最高的效率和速度。 在[这里](https://docs.nestjs.cn/8/techniques?id=%e6%80%a7%e8%83%bd%ef%bc%88fastify%ef%bc%89)阅读如何使用它。                                           |

- 作用域
- 使用 @Module() 装饰器将元数据附加到模块类中，现在，Nest 可以轻松反射（reflect）出哪些控制器（controller）必须被安装。

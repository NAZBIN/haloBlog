javascript ä»£ç è§„èŒƒ

è‰¯å¥½çš„ä»£ç å…·æœ‰å¾ˆå¥½çš„å¯è¯»æ€§,åç»­ç»´æŠ¤èµ·æ¥ä¹Ÿä¼šä»¤äººæ„‰æ‚¦,ä¹Ÿèƒ½é™ä½é‡æ„çš„æ¦‚ç‡ã€‚æœ¬æ–‡ä¼šç»“åˆ javascript,è°ˆè°ˆå¦‚ä½• clean ä»£ç ï¼š

- > åŸºç¡€è§„èŒƒ

- > å‡½æ•°å¼

> psï¼šPaste the code, deepen understanding. looking forward to your likes and commentsğŸ˜„

## åŸºç¡€è§„èŒƒ

### ï¼ˆ1ï¼‰å¸¸é‡

å¸¸é‡å¿…é¡»å‘½å, åœ¨åšé€»è¾‘åˆ¤æ–­çš„æ—¶å€™ï¼Œä¹Ÿä¸å…è®¸ç›´æ¥å¯¹æ¯”æ²¡æœ‰å‘½åçš„å¸¸é‡ã€‚

- é”™è¯¯çš„ä¹¦å†™

```javascript
  switch(num){
       case 1:
         ...
       case 3:
         ...
       case 7:
         ...
  }

  if(x === 0){
       ...
  }

```

ä¸Šè¿°çš„ä¾‹å­ä¸­ï¼Œæ ¹æœ¬ä¸çŸ¥é“ 1 3 7 å¯¹åº”çš„æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè¿™ç§å†™æ³•å°±åŸºæœ¬ä¸Šæ²¡æœ‰å¯è¯»æ€§ã€‚

- æ­£ç¡®çš„å†™æ³•

```javascript
    enum DayEnum {
        oneDay = 1,
        threeDay = 3,
        oneWeek = 7,
    }
    let num  = 1;
    switch(num){
        case DayEnum.oneDay:
        ...
        case DayEnum.threeDay:
        ...
        case DayEnum.oneWeek:
        ...
    }

   const RightCode = 0;
   if(x === RightCode)

```

ä»ä¸Šè¿°æ­£ç¡®çš„å†™æ³•å¯ä»¥çœ‹å‡ºæ¥ï¼Œå¸¸é‡æœ‰äº†å‘½åï¼Œåœ¨ switch æˆ–è€… if ç­‰é€»è¾‘åˆ¤æ–­çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä»å˜é‡åå¾—çŸ¥å¸¸é‡çš„å…·ä½“å«ä¹‰ï¼Œå¢åŠ äº†å¯è¯»æ€§ã€‚

### ï¼ˆ2ï¼‰æšä¸¾

é™¤äº†å¸¸é‡æšä¸¾å¤–ï¼Œåœ¨ javascript çš„ç¼–è¯‘é˜¶æ®µï¼Œæšä¸¾ä¼šç”Ÿæˆä¸€ä¸ª maping å¯¹è±¡ï¼Œ**_å¦‚æœä¸æ˜¯å­—ç¬¦ä¸²æšä¸¾ï¼Œç”šè‡³ä¼šç”Ÿæˆä¸€ä¸ªåŒå‘çš„ mapping_**ã€‚å› æ­¤åœ¨æˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç ä¸­ï¼Œæœ‰äº†æšä¸¾ï¼Œå°±ä¸éœ€è¦ä¸€ä¸ªä¸æšä¸¾å€¼ç›¸å…³çš„æ•°ç»„ã€‚

- é”™è¯¯çš„å†™æ³•

```javascript
enum FruitEnum {
  tomato = 1,
  banana = 2,
  apple = 3,
}

const FruitList = [
  {
    key: 1,
    value: "tomato",
  },
  {
    key: 2,
    value: "banana",
  },
  {
    key: 3,
    value: "apple",
  },
];
```

è¿™é‡Œé”™è¯¯çš„åŸå› æ˜¯å†—ä½™ï¼Œæˆ‘ä»¬è¦å¾—åˆ°ä¸€ä¸ª FruitListï¼Œå¹¶ä¸éœ€è¦ new ä¸€ä¸ªï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥æ ¹æ® FruitEnum çš„æšä¸¾æ¥ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼ŒåŸç†å°±æ˜¯æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„ javascript çš„æšä¸¾ï¼Œé™¤äº†å¸¸é‡æšä¸¾å¤–ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™æ˜¯ä¼šç”Ÿæˆä¸€ä¸ª map å¯¹è±¡çš„ã€‚

- æ­£ç¡®çš„å†™æ³•

```javascript
enum FruitEnum {
  tomato = 1,
  banana = 2,
  apple = 3,
}
const FruitList = Object.entries(FruitEnum);
```

ä¸Šè¿°å°±æ˜¯æ­£ç¡®çš„å†™æ³•ï¼Œè¿™ç§å†™æ³•ä¸ä»…ä»…æ˜¯ä¸å†—ä½™ï¼Œæ­¤å¤–ï¼Œå¦‚æœä¿®æ”¹äº†æšä¸¾çš„ç±»å‹ï¼Œæˆ‘ä»¬åªè¦ç›´æ¥ä¿®æ”¹æšä¸¾ï¼Œè¿™æ ·è¡ç”Ÿçš„æ•°ç»„ä¹Ÿä¼šæ”¹å˜ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œå­—ç¬¦ä¸²æšä¸¾å€¼å’Œå­—ç¬¦ä¸²æ˜¯æœ‰æœ¬è´¨åŒºåˆ«çš„ï¼Œåœ¨å®šä¹‰ç±»å‹çš„æ—¶å€™è¯·åƒä¸‡æ³¨æ„ï¼Œè¦ä¸ç„¶ä¼šè®©ä½ å†™çš„ä»£ç å¾ˆå†—ä½™ã€‚

### ï¼ˆ3ï¼‰ts-ignore & any

javascript ä¸­åº”è¯¥ä¸¥æ ¼ç¦æ­¢ä½¿ç”¨ ts-ignoreï¼Œts-ignore æ˜¯ä¸€ä¸ªæ¯” any æ›´åŠ å½±å“ javascript ä»£ç è´¨é‡çš„å› ç´ ã€‚å¯¹äº anyï¼Œåœ¨ç»å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ä½ å¯èƒ½éƒ½ä¸éœ€è¦ä½¿ç”¨ anyã€‚éœ€è¦ä½¿ç”¨ any çš„åœºæ™¯ï¼Œå¯ä»¥ case by case çš„åˆ†æã€‚

- é”™è¯¯ä½¿ç”¨ ts-ignore çš„åœºæ™¯

```javascript
//@ts-ignore
import Plugin from "someModule"; //å¦‚æœsomeModuleçš„å£°æ˜ä¸å­˜åœ¨
Plugin.test("hello world");

å¤åˆ¶ä»£ç ;
```

ä¸Šè¿°å°±æ˜¯æœ€ç»å…¸çš„ä½¿ç”¨ ts-ignore çš„åœºæ™¯ï¼Œå¦‚ä¸Šçš„æ–¹å¼ä½¿ç”¨äº† ts-ignore.é‚£ä¹ˆ javascript ä¼šè®¤ä¸º Plugin çš„ç±»å‹æ˜¯ anyã€‚æ­£ç¡®çš„æ–¹æ³•é€šè¿‡ declare module çš„æ–¹æ³•è‡ªå®šä¹‰éœ€è¦ä½¿ç”¨åˆ°çš„ç±»å‹.

any ä¼šå®Œå…¨å¤±å»ç±»å‹åˆ¤æ–­ï¼Œæœ¬èº«å…¶å®æ˜¯æ¯”è¾ƒå±é™©çš„ï¼Œä¸”ä½¿ç”¨ any å°±ç›¸å½“äºæ”¾å¼ƒäº†ç±»å‹æ£€æµ‹ï¼Œä¹Ÿå°±åŸºæœ¬ä¸Šæ”¾å¼ƒäº† javascriptã€‚ä¸¾ä¾‹æ¥è¯´ï¼š

```javascript
let fish: any = {
  type: "animal",
  swim: () => {},
};
fish.run();
```

ä¸Šè¿°çš„ä¾‹å­ä¸­æˆ‘ä»¬è°ƒç”¨äº†ä¸€ä¸ªä¸å­˜åœ¨çš„æ–¹æ³• ï¼Œå› ä¸ºä½¿ç”¨äº† anyï¼Œå› æ­¤è·³è¿‡äº†é™æ€ç±»å‹æ£€æµ‹ï¼Œå› æ­¤æ˜¯ä¸å®‰å…¨çš„ã€‚è¿è¡Œæ—¶ä¼šå‡ºé”™ï¼Œå¦‚æœæ— æ³•ç«‹åˆ»ç¡®å®šæŸä¸ªå€¼çš„ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ ç”¨ unknown æ¥ä»£æ›¿ä½¿ç”¨ anyã€‚

```javascript
let fish: unknown = {
  type: "animal",
  swim: () => {},
};
fish.run(); //ä¼šæŠ¥é”™
```

unkonwn æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œå› æ­¤è·Ÿ any ä¸€æ ·ï¼Œä»»æ„ç±»å‹éƒ½å¯ä»¥èµ‹å€¼ç»™ unkonwnã€‚ä¸ any ä¸åŒçš„æ˜¯ï¼Œunkonwn çš„å˜é‡å¿…é¡»æ˜ç¡®è‡ªå·±çš„ç±»å‹ï¼Œç±»å‹æ”¶ç¼©æˆ–è€…ç±»å‹æ–­è¨€åï¼Œunkonwn çš„å˜é‡æ‰å¯ä»¥æ­£å¸¸ä½¿ç”¨å…¶ä¸Šå®šä¹‰çš„æ–¹æ³•å’Œå˜é‡ã€‚

ç®€å•æ¥è¯´ï¼Œ**_unkonwn éœ€è¦åœ¨ä½¿ç”¨å‰ï¼Œå¼ºåˆ¶åˆ¤æ–­å…¶ç±»å‹_**ã€‚

### ï¼ˆ4ï¼‰é™åˆ¶å‡½æ•°å‚æ•°çš„ä¸ªæ•°

åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™ï¼Œåº”è¯¥å‡å°‘å‡½æ•°å‚æ•°çš„ä¸ªæ•°ï¼Œæ¨èä¸èƒ½è¶…è¿‡ 3 ä¸ªã€‚

- é”™è¯¯çš„ç”¨æ³•

```javascript
function getList(searchName:string,pageNum:number,pageSize:number,key1:string,key2:string){
   ...
}

```

ä¸æ¨èå‡½æ•°çš„å‚æ•°è¶…è¿‡ 3 ä¸ªï¼Œå½“è¶…è¿‡ 3 ä¸ªçš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨å¯¹è±¡æ¥èšåˆã€‚

- æ­£ç¡®çš„ç”¨æ³•

```javascript
interface ISearchParams {
  searchName: string;
  pageNum: number;
  pageSize: number;
  key1: string;
  key2: string;
}

function getList(params: ISearchParams) {}
```

åŒæ ·çš„å¼•ç”³åˆ° React é¡¹ç›®ä¸­ï¼ŒuseState ä¹Ÿæ˜¯åŒç†

```javascript
const [searchKey, setSearchKey] = useState("");
const [current, setCurrent] = useState(1);
const [pageSize, setPageSize] = useState(10); //é”™è¯¯çš„å†™æ³•

const [searchParams, setSearchParams] = useState({
  searchKey: "",
  current: 1,
  pageSize: 10,
}); //æ­£ç¡®çš„å†™æ³•
```

### ï¼ˆ5ï¼‰ç¦æ­¢ä½¿ç”¨!.éç©ºæ–­è¨€

éç©ºæ–­è¨€æœ¬èº«æ˜¯ä¸å®‰å…¨çš„ï¼Œä¸»è§‚çš„åˆ¤æ–­å­˜åœ¨è¯¯å·®ï¼Œä»é˜²å¾¡æ€§ç¼–ç¨‹çš„è§’åº¦ï¼Œæ˜¯ä¸æ¨èä½¿ç”¨éç©ºæ–­è¨€çš„ã€‚

- é”™è¯¯çš„ç”¨æ³•

```javascript
let x: string | undefined = undefined;
x!.toString();
```

å› ä¸ºä½¿ç”¨äº†éç©ºæ–­è¨€ï¼Œå› æ­¤ç¼–è¯‘çš„æ—¶å€™ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¿è¡Œçš„æ—¶å€™ä¼šæŠ¥é”™.

æ¯”è¾ƒæ¨èä½¿ç”¨çš„æ˜¯ optional chainingã€‚ä»¥?.çš„å½¢å¼ã€‚

### ï¼ˆ8ï¼‰ä½¿ç”¨ javascript çš„å†…ç½®å‡½æ•°

javascript çš„å¾ˆå¤šå†…ç½®å‡½æ•°éƒ½å¯ä»¥å¤ç”¨ä¸€äº›å®šä¹‰ã€‚è¿™é‡Œä¸ä¼šä¸€ä¸€ä»‹ç»ï¼Œå¸¸è§çš„æœ‰ Partialã€Pickã€Omitã€Recordã€extendsã€infer ç­‰ç­‰ï¼Œå¦‚æœéœ€è¦åœ¨å·²æœ‰çš„ç±»å‹ä¸Šï¼Œè¡ç”Ÿå‡ºæ–°çš„ç±»å‹ï¼Œé‚£ä¹ˆä½¿ç”¨å†…ç½®å‡½æ•°æ˜¯ç®€å•å’Œæ–¹ä¾¿çš„ã€‚ æ­¤å¤–è¿˜å¯ä»¥ä½¿ç”¨ è”åˆç±»å‹ã€äº¤å‰ç±»å‹å’Œç±»å‹åˆå¹¶ã€‚

- è”åˆç±»å‹

```javascript
//åŸºæœ¬ç±»å‹
let x: number | string;
x = 1;
x = "1";
```

```javascript
//å¤šå­—é¢é‡ç±»å‹
let type: "primary" | "danger" | "warning" | "error" = "primary";
```

å€¼å¾—æ³¨æ„çš„æ˜¯å­—é¢é‡çš„èµ‹å€¼ã€‚

```javascript
let type: "primary" | "danger" | "warning" | "error" = "primary";

let test = "error";
type = test; //æŠ¥é”™

let test = "error" as const;
type = test; //æ­£ç¡®
```

- äº¤å‰ç±»å‹

```javascript
interface ISpider {
  type: string;
  swim: () => void;
}
interface IMan {
  name: string;
  age: number;
}
type ISpiderMan = ISpider & IMan;
let bob: ISpiderMan = { type: "11", swim: () => {}, name: "123", age: 10 };
```

### ï¼ˆ9ï¼‰å°è£…æ¡ä»¶è¯­å¥ä»¥åŠ ts çš„ç±»å‹å®ˆå«

- é”™è¯¯çš„å†™æ³•

```javascript
if (fsm.state === "fetching" && isEmpty(listNode)) {
  // ...
}
```

- æ­£ç¡®çš„å†™æ³•

```javascript
function shouldShowSpinner(fsm, listNode) {
  return fsm.state === "fetching" && isEmpty(listNode);
}

if (shouldShowSpinner(fsmInstance, listNodeInstance)) {
  // ...
}
```

åœ¨æ­£ç¡®çš„å†™æ³•ä¸­æˆ‘ä»¬å°è£…äº†æ¡ä»¶åˆ¤æ–­çš„é€»è¾‘æˆä¸€ä¸ªç‹¬ç«‹å‡½æ•°ã€‚è¿™ç§å†™æ³•æ¯”è¾ƒå¯è¯»ï¼Œæˆ‘ä»¬ä»å‡½æ•°åå°±èƒ½çŸ¥é“åšäº†ä¸€ä¸ªä»€ä¹ˆåˆ¤æ–­ã€‚

æ­¤å¤–å°è£…æ¡ä»¶è¯­å¥ä¹Ÿå¯ä»¥è·Ÿ ts çš„è‡ªå®šä¹‰ç±»å‹å®ˆå«æŒ‚é’©ã€‚æ¥çœ‹ä¸€ä¸ªæœ€ç®€å•çš„å°è£…æ¡ä»¶è¯­å¥çš„è‡ªå®šä¹‰ç±»å‹å®ˆå«ã€‚

```javascript
function IsString(input: any): input is string {
  return typeof input === "string";
}
function foo(input: string | number) {
  if (IsString(input)) {
    input.toString(); //è¢«åˆ¤æ–­ä¸ºstring
  } else {
  }
}
```

åœ¨é¡¹ç›®ä¸­åˆç†åœ°ä½¿ç”¨è‡ªå®šä¹‰å®ˆå«ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å‡å°‘å¾ˆå¤šä¸å¿…è¦çš„ç±»å‹æ–­è¨€ï¼ŒåŒæ—¶æ”¹å–„ä»£ç çš„å¯è¯»æ€§ã€‚

### ï¼ˆ10ï¼‰ä¸è¦ä½¿ç”¨éå˜é‡

ä¸ç®¡æ˜¯å˜é‡åè¿˜æ˜¯å‡½æ•°åï¼Œä¸è¦ä½¿ç”¨éå‘½åï¼Œåœ¨ä¸šåŠ¡ä¸­æˆ‘å°±é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œåç«¯å®šä¹‰äº†ä¸€ä¸ªéå‘½åå½¢å¼çš„å˜é‡ isNotRefreshï¼š

```javascript
let isNotRefresh = false; //æ˜¯å¦ä¸åˆ·æ–°ï¼Œå¦è¡¨ç¤ºåˆ·æ–°
```

isNotRefresh è¡¨ç¤ºä¸åˆ·æ–°ï¼Œè¿™æ ·å®šä¹‰çš„å˜é‡ä¼šå¯¼è‡´è·Ÿè¿™ä¸ªå˜é‡ç›¸å…³çš„å¾ˆå¤šé€»è¾‘éƒ½æ˜¯ç›¸åçš„ã€‚æ­£ç¡®çš„å½¢å¼åº”è¯¥æ˜¯å®šä¹‰å˜é‡æ˜¯ isRefresh è¡¨ç¤ºæ˜¯å¦åˆ·æ–°ã€‚

```javascript
let isRefresh = false; //æ˜¯å¦åˆ·æ–°ï¼Œæ˜¯è¡¨ç¤ºåˆ·æ–°
```
